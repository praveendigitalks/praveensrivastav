<!-- ======= About Section ======= -->
<section id="about" class="about section-show" *ngFor="let about of aboutData">

  <!-- ======= About Me ======= -->
  <div class="about-me container">
    <i class="fa-solid fa-plus" *ngIf="isLogin" (click)="editAbout(about._id)"></i>
    <div class="section-title">
      <h2>About</h2>
      <p>Learn more about me</p>
    </div>

    <div class="row">
      <div class="col-lg-4" data-aos="fade-right">
        <!-- <img [src]="about.image" class="img-fluid" alt="profile image"> -->
        <img [src]="'https://praveensrivastav-backend.onrender.com' + about.image" class="img-fluid" />
        <!-- <img [src]="'http://localhost:5000' + about.image" class="img-fluid" /> -->
        <!-- http://localhost:5000/upload/about/1769252401931.jpeg -->

      </div>
      <div class="col-lg-8 pt-4 pt-lg-0 content" data-aos="fade-left">
        <!-- <h3>MEAN Stack,MERN Stack , Next Js &amp; Laravel Developer</h3> -->
        <h3>{{about.position}}</h3>
        <p class="fst-italic">
          {{about.description}}
        </p>
        <!-- <p class="fst-italic">
          <i class="bi bi-chevron-right"></i> Worked as Laravel Developer for 9 months at Trezix Software Pvt.
          Ltd,which is a Product Base Company.
        </p> -->
        <div class="row">
          <div class="col-lg-6">
            <ul>
              <li><i class="bi bi-chevron-right"></i><strong>Birthday:</strong><span>{{ about.dob | date:'d MMMM yyyy'
                  }}</span></li>
              <li><i class="bi bi-chevron-right"></i> <strong>Phone:</strong> <span>{{about.phone}}</span></li>
              <li><i class="bi bi-chevron-right"></i> <strong>City:</strong> <span>{{about.city}}</span></li>
            </ul>
          </div>
          <div class="col-lg-6">
            <ul>
              <li><i class="bi bi-chevron-right"></i> <strong>Degree:</strong> <span>{{about.degree}} </span></li>
              <li><i class="bi bi-chevron-right"></i> <strong>Email:</strong>
                <span>{{about.email}}</span>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

  </div>
  <!-- End About Me -->

  <!-- ======= Skills (SINGLE CONTAINER) ======= -->
  <div class="skills container">
    <div class="section-title">
      <h2>Web Skills</h2>
    </div>

    <div class="row skills-content">
      <!-- ✅ Loop INSIDE container, not outside -->
      <div class="col-lg-6" *ngFor="let webskill of aboutData[0]?.webskills; let i = index">
        <div class="progress">
          <span class="skill">{{webskill.technology}} <i class="val">{{webskill.proficiency}}%</i></span>
          <div class="progress-bar-wrap">
            <div class="progress-bar" #progressBar role="progressbar" [attr.aria-valuenow]="webskill.proficiency"
              attr.aria-valuemin="0" [attr.aria-valuemax]="100" [attr.data-skill]="webskill.proficiency">
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
  <!-- End Skills -->


  <!-- ======= prior-skill ======= -->
  <div class="prior-skill container">
    <div class="section-title">
      <h2>Prior Skills</h2>
    </div>

    <div class="row">
      <div class="col-lg-3 col-md-4 mt-4" *ngFor="let skill of getPriorSkills(); let i = index">
        <div class="icon-box">
          <!-- ✅ FontAwesome Icon -->
          <i *ngIf="skill.iconType === 'fontawesome'" [class]="skill.icon" style=" font-size: 2.5rem;"></i>

          <!-- ✅ Image Icon (Next.js etc.) -->
          <img *ngIf="skill.iconType === 'image'" [src]="skill.icon" height="40" width="40"
            alt="{{skill.skillName}} icon" style=" margin-right: 15px;" />

          <h3 class="mt-2">{{skill.skillName}}</h3>
        </div>
      </div>
    </div>

    <!-- ✅ Empty state -->
    <div class="text-center py-4 text-muted" *ngIf="getPriorSkills().length === 0">
      No prior skills available.
    </div>
  </div>
  <!-- End prior-skill -->

  <!-- End prior-skill -->

  <!-- ======= Counts for Company projects ======= -->
  <div class="counts container">
    <div class="row">
      <div class="col-lg-3 col-md-6">
        <div class="count-box">
          <i class="fa-regular fa-folder-open"></i>
          <span class="count-number" data-target="11">{{about?.totalProject}}</span>
          <p>Total Projects</p>
        </div>
      </div>

      <div class="col-lg-3 col-md-6 mt-5 mt-md-0">
        <div class="count-box">
          <span class="count-number" data-target="2">{{about.MeanStack}}</span>
          <p>MEAN STACK</p>
        </div>
      </div>

      <div class="col-lg-3 col-md-6 mt-5 mt-lg-0">
        <div class="count-box">
          <span class="count-number" data-target="3">{{about.MernornextStack}}</span>
          <p>MERN STACK / Next JS Stack</p>
        </div>
      </div>

      <div class="col-lg-3 col-md-6 mt-5 mt-lg-0">
        <div class="count-box">
          <span class="count-number" data-target="6">{{about.otherproject}}</span>
          <p>Other Projects</p>
        </div>
      </div>

    </div>
  </div>
  <!-- End Counts for company projects -->

  <!-- ======= Company Major Projects ======= -->
  <!-- ======= Company Major Projects ======= -->
  <div class="projects container">
    <div class="section-title">
      <h2>Project for Companies</h2>
    </div>

    <div id="company-projects-slider" class="projects-slider swiper" data-aos="fade-up" data-aos-delay="100">

      <div class="swiper-wrapper">

        <div class="swiper-slide" *ngFor="let company of getCompanyProjects(); let i = index">
          <div class="projects-item">
            <p>
              <i class="bx bxs-quote-alt-left quote-icon-left"></i>
              {{company.projectDescription}}
              <i class="bx bxs-quote-alt-right quote-icon-right"></i>
            </p>

            <!-- ✅ FIXED: Loop through technologies ARRAY -->
            <div class="d-flex flex-wrap gap-2 mb-3">
              <!-- FontAwesome Icons -->
              <ng-container *ngFor="let tech of company.technologies">
                <i *ngIf="tech.iconType === 'fontawesome'" [class]="tech.icon"
                  style="font-size: 2rem; color: hsl(0, 11%, 95%);" class="me-2"></i>

                <img *ngIf="tech.iconType === 'image'" [src]="tech.icon" height="40" width="40" class="rounded me-2"
                  alt="{{company.projectTitle}} tech" />
              </ng-container>
            </div>


            <h3>{{company.projectTitle}}</h3>
            <h4>{{company.projectBio}}</h4>
          </div>
        </div>



      </div>

      <!-- only dots (no arrows) -->
      <div class="swiper-pagination"></div>
    </div>

    <div class="owl-carousel projects-carousel">
    </div>
  </div>
  <!-- End Company projects -->

  <!-- End Company projects -->


</section>
<!-- End About Section -->
