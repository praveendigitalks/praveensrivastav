<!-- ======= Logged Device Section ======= -->
<section id="contact" class="contact section-show">
  <div class="container">
    <div class="section-title">
      <h2 routerLink="/adduser">Logged Devices</h2>
      <p>List of Devices</p>
    </div>

    <!-- Loading Spinner -->
    <div *ngIf="loading" class="text-center py-5">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
    </div>

    <!-- Devices List -->
    <div *ngIf="!loading && logUserDevices.length === 0" class="text-center py-5">
      <i class="bi bi-shield-check display-4 text-muted"></i>
      <h5 class="mt-3">No active devices found</h5>
    </div>

    <div *ngIf="!loading && logUserDevices.length > 0" class="row g-4">
      <div *ngFor="let device of logUserDevices; let i = index" class="col-lg-6 col-md-6">
        <div class="card device-card h-100 shadow-sm">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-start mb-3">
              <div>
                <h6 class="card-title mb-1">{{ device.deviceName }}</h6>
                <small class="text-muted">{{ device.deviceType | titlecase }} â€¢ {{ device.browser }}</small>
              </div>
              <span *ngIf="i === 0" class="badge bg-success">Current Device</span>
            </div>

            <div class="device-info mb-3">
              <p class="small mb-1">
                <i class="bi bi-laptop me-2"></i>
                {{ device.os }}
              </p>
              <p class="small mb-2">
                <i class="bi bi-clock me-2"></i>
                Last seen: {{ device.lastLogin | date:'medium' }}
              </p>
            </div>

            <!-- Signout Button -->
            <button
              *ngIf="i !== 0"
              class="btn btn-outline-danger btn-sm w-100"
              (click)="signoutDevice(device.deviceId)"
              [disabled]="signingOut[device.deviceId]">
              <span *ngIf="!signingOut[device.deviceId]">Sign Out</span>
              <span *ngIf="signingOut[device.deviceId]" class="spinner-border spinner-border-sm me-2"></span>
              Signing Out...
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</section><!-- End Contact Section -->
